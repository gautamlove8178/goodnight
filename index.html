<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Magic Neon Garden</title>
    <style>
        /* CSS Same as before */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            height: 100vh; display: flex; justify-content: center; align-items: center;
            overflow: hidden; font-family: 'Segoe UI', sans-serif;
            background: #87CEEB; transition: background 2s ease-in-out; touch-action: none;
        }
        body.night-mode { background: radial-gradient(circle at center, #1B2735 0%, #090A0F 100%); }
        body.garden-night { background: #050508 !important; }
        .sky { width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; flex-direction: column; position: absolute; z-index: 10; }
        .moon { position: absolute; top: -150px; right: 15%; width: 100px; height: 100px; background: #fefcd7; border-radius: 50%; box-shadow: 0 0 50px 15px rgba(254, 252, 215, 0.5); transition: 3s cubic-bezier(0.22, 1, 0.36, 1); }
        body.night-mode .moon { top: 10%; }
        .text { font-size: 2.5rem; color: white; opacity: 0; transform: translateY(30px); transition: 2s ease; text-shadow: 0 0 20px rgba(255,255,255,0.8); text-align: center; padding: 20px; }
        body.night-mode .text.show { opacity: 1; transform: translateY(0); }
        #musicBtn { padding: 15px 40px; font-size: 1.2rem; font-weight: bold; cursor: pointer; border-radius: 50px; border: none; background: #ffebee; color: #ff4081; box-shadow: 0 10px 20px rgba(0,0,0,0.3); z-index: 100; transition: 0.4s; }
        #mainBtn { padding: 15px 40px; font-size: 1.2rem; font-weight: bold; cursor: pointer; border-radius: 50px; border: none; background: white; color: #333; box-shadow: 0 10px 20px rgba(0,0,0,0.3); z-index: 100; display: none; transition: 0.4s; }
        #cuteBtn { padding: 10px 25px; font-size: 1rem; cursor: pointer; border-radius: 30px; border: 1px solid rgba(255,255,255,0.4); background: rgba(255,255,255,0.1); color: white; backdrop-filter: blur(10px); position: absolute; opacity: 0; visibility: hidden; transition: 1s; z-index: 110; }
        #cuteBtn.reveal { opacity: 1; visibility: visible; }
        .fade-out { opacity: 0 !important; visibility: hidden !important; pointer-events: none; transition: 1.5s; }
        canvas { position: absolute; top: 0; left: 0; display: none; width: 100%; height: 100%; }
        #hint { position: absolute; top: 30px; width: 100%; text-align: center; color: #00f2ff; font-size: 1.2rem; display: none; z-index: 100; text-shadow: 0 0 10px #00f2ff; }
        #messages { position: absolute; top: 40%; left: 50%; transform: translate(-50%, -50%); text-align: center; color: hsl(190, 100%, 75%); font-size: 1.5rem; z-index: 120; text-shadow: 0 0 15px rgba(0,242,255,0.6), 2px 2px 5px black; pointer-events: none; width: 85%; font-weight: bold; }
        .cursor { display: inline-block; width: 3px; background-color: hsl(190, 100%, 75%); animation: blink 0.7s infinite; margin-left: 5px; height: 1.5rem; vertical-align: middle; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
    </style>
</head>
<body>

    <div id="hint">HIT THE HEART TO BLOOM âœ¨</div>
    
    <div class="sky" id="skyLayer">
        <div class="moon" id="moon"></div>
        <h1 class="text" id="gnText">Good Night Bestie ji ðŸŒ™âœ¨ðŸ’•</h1>
        <button id="musicBtn">ðŸŽµ Start Experience</button>
        <button id="mainBtn">Switch to Night</button>
        <button id="cuteBtn">Click here cutie ðŸ¥°</button>
    </div>

    <div id="messages"></div>

    <audio id="bgMusic" loop playsinline>
        <source src="https://actions.google.com/sounds/v1/ambient/soft_piano_with_winds.ogg" type="audio/ogg">
        <source src="https://www.soundjay.com/nature/river-1.mp3" type="audio/mpeg">
    </audio>

    <canvas id="c"></canvas>

<script>
    const bgMusic = document.getElementById('bgMusic');
    const musicBtn = document.getElementById('musicBtn');
    const mainBtn = document.getElementById('mainBtn');
    // ... baki sab buttons ...

    // FORCE PLAY FUNCTION
    function playAudio() {
        bgMusic.play().then(() => {
            console.log("Playing...");
        }).catch(err => {
            console.log("Wait for interaction");
        });
    }

    musicBtn.onclick = () => {
        playAudio();
        musicBtn.style.display = 'none';
        mainBtn.style.display = 'block';
    };

    // Baki aapka pura purana logic yahan aayega...
    // (Maine baaki code short kar diya hai space bachane ke liye, aap bas musicBtn wala part upar se le lo)

    // EK AUR FIX: Browser refresh hone par music load nahi hota, isliye main ek automatic trigger dal raha hoon.
    document.body.addEventListener('click', () => {
        if(bgMusic.paused) playAudio();
    }, {once: true});

    // ... (Aapka pura canvas aur typing logic yahan copy-paste kar dein) ...
    // ... [SAME AS PREVIOUS] ...
</script>
</body>
</html>
